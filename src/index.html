<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watchout Server Finder</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>    <div class="app-container">
        <main class="app-main">
            <div class="main-content">                <!-- Left Sidebar -->
                <aside class="sidebar">
                    <div class="sidebar-header">
                        <div class="sidebar-title-group">
                            <h3>Servers</h3>
                            <div class="server-count-sidebar" id="serverCountSidebar">0</div>
                        </div>                        <button id="scanButton" class="scan-button-sidebar">
                            <img src="../assets/refresh.svg" class="button-icon" alt="Refresh">
                        </button>
                    </div>
                    <div class="sidebar-scan-status">
                        <div class="scan-status" id="scanStatus">Background scanning every 30 seconds...</div>
                    </div>
                    <div class="sidebar-content">
                        <div class="server-list" id="serverList">
                            <div class="no-servers-sidebar" id="noServersSidebar">
                                <div class="no-servers-icon-sidebar">üì°</div>
                                <p>No servers found</p>
                            </div>
                        </div>
                    </div>
                </aside>                <!-- Main Content Area -->
                <div class="content-area">
                    <!-- Tabbed Panel -->
                    <div class="tabbed-panel">
                        <!-- Tab Navigation -->
                        <div class="tab-nav">
                            <button class="tab-btn active" id="detailsTab" data-tab="details">
                                <span class="tab-icon">üìã</span>
                                <span>Server Details</span>
                            </button>
                            <button class="tab-btn" id="commandsTab" data-tab="commands">
                                <span class="tab-icon">‚ö°</span>
                                <span>Commands</span>
                            </button>
                            <div class="tab-indicator"></div>
                        </div>

                        <!-- Tab Content -->
                        <div class="tab-content">
                            <!-- Server Details Tab -->
                            <div class="tab-panel active" id="detailsPanel">
                                <div class="panel-header">
                                    <h2>Server Details</h2>
                                    <div class="server-count" id="serverCount">0 servers found</div>
                                </div>
                                
                                <div class="panel-content" id="serversContainer">
                                    <div class="no-servers" id="noServers">
                                        <div class="no-servers-icon">üì°</div>
                                        <p>No Watchout servers discovered yet</p>
                                        <p class="hint">Click "Manual Scan" to begin discovery</p>
                                    </div>
                                    <div class="no-selection" id="noSelection" style="display: none;">
                                        <div class="no-selection-icon">üëà</div>
                                        <p>Select a server from the sidebar to view details</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Commands Tab -->
                            <div class="tab-panel" id="commandsPanel">
                                <div class="panel-header">
                                    <h2>Server Commands</h2>
                                    <div class="connection-status" id="connectionStatus">
                                        <span class="status-indicator" id="apiStatusIndicator"></span>
                                        <span id="apiStatusText">Not connected</span>
                                    </div>
                                </div>
                                
                                <div class="panel-content" id="commandsContainer">
                                    <div class="no-server-selected" id="noServerSelected">
                                        <div class="no-server-icon">üñ•Ô∏è</div>
                                        <p>Select a server to send commands</p>
                                        <p class="hint">Choose a server from the sidebar first</p>
                                    </div>

                                    <div class="commands-area" id="commandsArea" style="display: none;">
                                        <div class="command-categories">
                                            <!-- Timeline Control Commands -->
                                            <div class="command-category">
                                                <h3>Timeline Control</h3>
                                                <div class="command-buttons">
                                                    <button class="command-btn play-btn" id="playBtn">
                                                        <span class="cmd-icon">‚ñ∂Ô∏è</span>
                                                        <span>Play</span>
                                                    </button>
                                                    <button class="command-btn pause-btn" id="pauseBtn">
                                                        <span class="cmd-icon">‚è∏Ô∏è</span>
                                                        <span>Pause</span>
                                                    </button>
                                                    <button class="command-btn stop-btn" id="stopBtn">
                                                        <span class="cmd-icon">‚èπÔ∏è</span>
                                                        <span>Stop</span>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Information Commands -->
                                            <div class="command-category">
                                                <h3>Information</h3>
                                                <div class="command-buttons">
                                                    <button class="command-btn info-btn" id="statusBtn">
                                                        <span class="cmd-icon">üìä</span>
                                                        <span>Get Status</span>
                                                    </button>
                                                    <button class="command-btn info-btn" id="timelinesBtn">
                                                        <span class="cmd-icon">üìë</span>
                                                        <span>Get Timelines</span>
                                                    </button>
                                                    <button class="command-btn info-btn" id="showBtn">
                                                        <span class="cmd-icon">üé≠</span>
                                                        <span>Get Show Info</span>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Advanced Commands -->
                                            <div class="command-category">
                                                <h3>Advanced</h3>
                                                <div class="command-buttons">
                                                    <button class="command-btn advanced-btn" id="testConnectionBtn">
                                                        <span class="cmd-icon">üîó</span>
                                                        <span>Test Connection</span>
                                                    </button>
                                                    <button class="command-btn advanced-btn" id="customCommandBtn">
                                                        <span class="cmd-icon">‚öôÔ∏è</span>
                                                        <span>Custom Command</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Command Response Area -->
                                        <div class="command-response" id="commandResponse">
                                            <div class="response-header">
                                                <h4>Command Response</h4>
                                                <button class="clear-response-btn" id="clearResponseBtn">Clear</button>
                                            </div>
                                            <div class="response-content" id="responseContent">
                                                <div class="no-response">No commands executed yet</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="app-footer">
            <div class="footer-content">
                <span>Watchout Server Finder v<span id="appVersion">1.0.0</span></span>
                <span class="separator">‚Ä¢</span>
                <span>Built with Electron</span>
            </div>
        </footer>
    </div>

    <!-- Custom Command Modal -->
    <div class="modal-overlay" id="customCommandModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Custom Watchout Command</h3>
                <button class="modal-close" id="closeCustomModal">√ó</button>
            </div>            <div class="modal-body">
                <div class="form-group">
                    <label for="customEndpoint">API Endpoint:</label>
                    <div class="endpoint-input-group">
                        <input type="text" id="customEndpoint" placeholder="e.g., /v0/state or /v0/play/0" />
                        <select id="endpointExamples" class="endpoint-examples">
                            <option value="">-- Common Examples --</option>
                            <option value="/v0/state">Get Current Status</option>
                            <option value="/v0/timelines">Get Timelines</option>
                            <option value="/v0/play/0">Play Timeline 0</option>
                            <option value="/v0/pause/0">Pause Timeline 0</option>
                            <option value="/v0/stop/0">Stop Timeline 0</option>
                            <option value="/v0/jump-to-time/0?time=5000&state=play">Jump to 5 seconds</option>
                            <option value="/v0/cues/0">Get Timeline 0 Cues</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="customMethod">HTTP Method:</label>
                    <select id="customMethod">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="customData">Request Data (JSON):</label>
                    <textarea id="customData" placeholder='{"key": "value"}' rows="4"></textarea>
                    <small class="form-help">Leave empty for GET requests. Use JSON format for POST/PUT requests.</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelCustomCommand">Cancel</button>
                <button class="btn-primary" id="executeCustomCommand">Execute</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
